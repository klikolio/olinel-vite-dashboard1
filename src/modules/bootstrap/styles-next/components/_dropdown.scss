@import "bootstrap/scss/dropdown";

.dropdown {
	--#{$prefix}dropdown-item-content-spacer: #{$dropdown-item-content-spacer};
	--#{$prefix}dropdown-icon-dimension: #{$dropdown-icon-dimension};
	--#{$prefix}dropdown-icon-size: #{$dropdown-icon-size};
	--#{$prefix}dropdown-bullet-size: #{$dropdown-bullet-size};
	--#{$prefix}dropdown-bullet-color: #{$dropdown-bullet-color};
}

.dropdown-sub {
	position: relative;

	&:hover > .dropdown-sub-menu {
		display: block;
	}
}

.dropdown-sub-menu {
	@extend .dropdown-menu;
	width: fit-content;
}

.dropdown-row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	margin-top: calc(-1 * var(--#{$prefix}dropdown-padding-y));
	margin-bottom: calc(-1 * var(--#{$prefix}dropdown-padding-y));
}

.dropdown-col {
	flex: 1;
	min-width: var(--#{$prefix}dropdown-min-width);
	padding: var(--#{$prefix}dropdown-col-padding);

	.dropdown-item {
		@include border-radius(var(--#{$prefix}dropdown-border-radius));
	}
}

.dropdown-item {
	display: flex;
	flex-direction: row;
	align-items: center;
}

.dropdown-content {
	flex: 1;
	color: inherit;
	font-size: inherit;
	font-weight: inherit;
	overflow: hidden;
	text-overflow: ellipsis;
}

.dropdown-addon {
	white-space: nowrap;

	&:first-child {
		margin-right: var(--#{$prefix}dropdown-item-content-spacer);
	}

	&:last-child {
		margin-left: var(--#{$prefix}dropdown-item-content-spacer);
	}
}

.dropdown-icon {
	display: flex;
	align-items: center;
	justify-content: center;
	width: var(--#{$prefix}dropdown-icon-dimension);
	margin-right: var(--#{$prefix}dropdown-item-content-spacer);
	@include icon-size(var(--#{$prefix}dropdown-icon-size));
}

.dropdown-bullet {
	position: relative;
	color: var(--#{$prefix}dropdown-bullet-color);
	height: calc(0.75 * var(--#{$prefix}dropdown-icon-dimension));
	width: calc(0.75 * var(--#{$prefix}dropdown-icon-dimension));
	min-width: calc(0.75 * var(--#{$prefix}dropdown-icon-dimension));
	margin-right: calc(0.75 * var(--#{$prefix}dropdown-item-content-spacer));

	&:before {
		content: "";
		display: block;
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		width: var(--#{$prefix}dropdown-bullet-size);
		height: var(--#{$prefix}dropdown-bullet-size);
		border-radius: 50%;
		background: currentColor;
	}
}

@if $enable-transitions {
	@keyframes slideUp {
		0% {
			opacity: 0;
			top: $dropdown-animation-offset;
		}
		100% {
			opacity: 1;
			top: 0;
		}
	}

	@keyframes slideDown {
		0% {
			opacity: 0;
			bottom: $dropdown-animation-offset;
		}
		100% {
			opacity: 1;
			bottom: 0;
		}
	}

	.dropdown-menu,
	.dropdown-sub-menu {
		animation-duration: $dropdown-animation-duration;
	}

	// Animate dropdown menu when opened
	.dropdown-menu-animated {
		&[data-popper-placement^="top"] {
			animation-name: slideDown;
		}

		.dropdown-submenu-menu,
		&[data-popper-placement^="right"],
		&[data-popper-placement^="left"],
		&[data-popper-placement^="bottom"] {
			animation-name: slideUp;
		}
	}
}
